<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
        <style>
            body {
                position: relative;
                background-color: black;
                /* cursor: none; */
            }
            h1 {
                color: #fff;
            }
            .cursor_item {
                position: absolute;
                top: 0;
                left: 0;
                width: 100px;
                height: 100px;
                background-color: red;
            }
        </style>
        <script>
            let h1;
            let cursor_item;
            let x = 0;
            let y = 0;
            let mx = 0;
            let my = 0;
            let speed = 0.03;
            window.onload = function () {
                h1 = document.getElementsByTagName("h1")[0];
                cursor_item = document.getElementsByClassName("cursor_item")[0];
                window.addEventListener("mousemove", mousefunc, false);
                function mousefunc(e) {
                    x = e.clientX;
                    y = e.clientY;
                    h1.innerHTML = "x: " + x + " y: " + y;
                }
                loop();
            };
            function loop() {
                console.log(x, y);
                mx += (x - mx) * speed;
                // mx = mx + (x - mx) * speed;
                my += (y - my) * speed;
                // 마우스 움직임의 속도 제어
                cursor_item.style.transform = "translate(" + mx + "px," + my + "px )";
                window.requestAnimationFrame(loop);
                //requestAnimationFrame()를 지금과 같이 함수에 넣어 실행시키면 초당 60번 실행 하게됨.
                //- 자연스러운 움직임이 필요한 곳에 사용됨
            }
        </script>
    </head>
    <body>
        <h1>test</h1>
        <div class="cursor_item"></div>
    </body>
</html>
